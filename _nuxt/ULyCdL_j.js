import{a7 as y,d as P,a8 as V,c as Y,a9 as T,aa as R,ab as j,ac as k,ad as q,ae as N,af as B,ag as $,y as D,L as K,V as U,ah as G,ai as J,w as A,aj as Q,ak as Z}from"#entry";function le(e={}){const{inheritAttrs:n=!0}=e,u=y(),m=P({setup(t,{slots:i}){return()=>{u.value=i.default}}}),p=P({inheritAttrs:n,props:e.props,setup(t,{attrs:i,slots:s}){return()=>{var o;u.value;const a=(o=u.value)==null?void 0:o.call(u,{...e.props==null?ee(i):t,$slots:s});return n&&a?.length===1?a[0]:a}}});return V({define:m,reuse:p},[m,p])}function ee(e){const n={};for(const u in e)n[N(u)]=e[u];return n}const W=B?window:void 0,I=B?window.navigator:void 0;function X(e){var n;const u=R(e);return(n=u?.$el)!=null?n:u}function M(...e){const n=[],u=()=>{n.forEach(s=>s()),n.length=0},m=(s,o,a,l)=>(s.addEventListener(o,a,l),()=>s.removeEventListener(o,a,l)),p=Y(()=>{const s=T(R(e[0])).filter(o=>o!=null);return s.every(o=>typeof o!="string")?s:void 0}),t=j(()=>{var s,o;return[(o=(s=p.value)==null?void 0:s.map(a=>X(a)))!=null?o:[W].filter(a=>a!=null),T(R(p.value?e[1]:e[0])),T(D(p.value?e[2]:e[1])),R(p.value?e[3]:e[2])]},([s,o,a,l])=>{if(u(),!s?.length||!o?.length||!a?.length)return;const v=$(l)?{...l}:l;n.push(...s.flatMap(d=>o.flatMap(h=>a.map(g=>m(d,h,g,v)))))},{flush:"post"}),i=()=>{t(),u()};return k(u),i}function te(){const e=y(!1),n=U();return n&&K(()=>{e.value=!0},n),e}function z(e){const n=te();return Y(()=>(n.value,!!e()))}function ne(e,n,u={}){const{window:m=W,...p}=u;let t;const i=z(()=>m&&"MutationObserver"in m),s=()=>{t&&(t.disconnect(),t=void 0)},o=Y(()=>{const d=R(e),h=T(d).map(X).filter(Q);return new Set(h)}),a=A(o,d=>{s(),i.value&&d.size&&(t=new MutationObserver(n),d.forEach(h=>t.observe(h,p)))},{immediate:!0,flush:"post"}),l=()=>t?.takeRecords(),v=()=>{a(),s()};return k(v),{isSupported:i,stop:v,takeRecords:l}}function F(e,n={}){const{controls:u=!1,navigator:m=I}=n,p=z(()=>m&&"permissions"in m),t=y(),i=typeof e=="string"?{name:e}:e,s=y(),o=()=>{var l,v;s.value=(v=(l=t.value)==null?void 0:l.state)!=null?v:"prompt"};M(t,"change",o,{passive:!0});const a=G(async()=>{if(p.value){if(!t.value)try{t.value=await m.permissions.query(i)}catch{t.value=void 0}finally{o()}if(u)return Z(t.value)}});return a(),u?{state:s,isSupported:p,query:a}:s}function re(e={}){const{navigator:n=I,read:u=!1,source:m,copiedDuring:p=1500,legacy:t=!1}=e,i=z(()=>n&&"clipboard"in n),s=F("clipboard-read"),o=F("clipboard-write"),a=Y(()=>i.value||t),l=y(""),v=y(!1),d=q(()=>v.value=!1,p,{immediate:!1});async function h(){let r=!(i.value&&b(s.value));if(!r)try{l.value=await n.clipboard.readText()}catch{r=!0}r&&(l.value=S())}a.value&&u&&M(["copy","cut"],h,{passive:!0});async function g(r=R(m)){if(a.value&&r!=null){let f=!(i.value&&b(o.value));if(!f)try{await n.clipboard.writeText(r)}catch{f=!0}f&&E(r),l.value=r,v.value=!0,d.start()}}function E(r){const f=document.createElement("textarea");f.value=r??"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function S(){var r,f,x;return(x=(f=(r=document?.getSelection)==null?void 0:r.call(document))==null?void 0:f.toString())!=null?x:""}function b(r){return r==="granted"||r==="prompt"}return{isSupported:a,text:l,copied:v,copy:g}}function oe(e,n,u={}){const{window:m=W,...p}=u;let t;const i=z(()=>m&&"ResizeObserver"in m),s=()=>{t&&(t.disconnect(),t=void 0)},o=Y(()=>{const v=R(e);return Array.isArray(v)?v.map(d=>X(d)):[X(v)]}),a=A(o,v=>{if(s(),i.value&&m){t=new ResizeObserver(n);for(const d of v)d&&t.observe(d,p)}},{immediate:!0,flush:"post"}),l=()=>{s(),a()};return k(l),{isSupported:i,stop:l}}const se={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ae(e={}){const{type:n="page",touch:u=!0,resetOnTouchEnds:m=!1,initialValue:p={x:0,y:0},window:t=W,target:i=t,scroll:s=!0,eventFilter:o}=e;let a=null,l=0,v=0;const d=y(p.x),h=y(p.y),g=y(null),E=typeof n=="function"?n:se[n],S=c=>{const O=E(c);a=c,O&&([d.value,h.value]=O,g.value="mouse"),t&&(l=t.scrollX,v=t.scrollY)},b=c=>{if(c.touches.length>0){const O=E(c.touches[0]);O&&([d.value,h.value]=O,g.value="touch")}},r=()=>{if(!a||!t)return;const c=E(a);a instanceof MouseEvent&&c&&(d.value=c[0]+t.scrollX-l,h.value=c[1]+t.scrollY-v)},f=()=>{d.value=p.x,h.value=p.y},x=o?c=>o(()=>S(c),{}):c=>S(c),w=o?c=>o(()=>b(c),{}):c=>b(c),C=o?()=>o(()=>r(),{}):()=>r();if(i){const c={passive:!0};M(i,["mousemove","dragover"],x,c),u&&n!=="movement"&&(M(i,["touchstart","touchmove"],w,c),m&&M(i,"touchend",f,c)),s&&n==="page"&&M(t,"scroll",C,c)}return{x:d,y:h,sourceType:g}}function ce(e,n={}){const{windowResize:u=!0,windowScroll:m=!0,handleOutside:p=!0,window:t=W}=n,i=n.type||"page",{x:s,y:o,sourceType:a}=ae(n),l=y(e??t?.document.body),v=y(0),d=y(0),h=y(0),g=y(0),E=y(0),S=y(0),b=y(!0);function r(){if(!t)return;const w=X(l);if(!w||!(w instanceof Element))return;const{left:C,top:c,width:O,height:H}=w.getBoundingClientRect();h.value=C+(i==="page"?t.pageXOffset:0),g.value=c+(i==="page"?t.pageYOffset:0),E.value=H,S.value=O;const L=s.value-h.value,_=o.value-g.value;b.value=O===0||H===0||L<0||_<0||L>O||_>H,(p||!b.value)&&(v.value=L,d.value=_)}const f=[];function x(){f.forEach(w=>w()),f.length=0}if(J(()=>{r()}),t){const{stop:w}=oe(l,r),{stop:C}=ne(l,r,{attributeFilter:["style","class"]}),c=A([l,s,o],r);f.push(w,C,c),M(document,"mouseleave",()=>b.value=!0,{passive:!0}),m&&f.push(M("scroll",r,{capture:!0,passive:!0})),u&&f.push(M("resize",r,{passive:!0}))}return{x:s,y:o,sourceType:a,elementX:v,elementY:d,elementPositionX:h,elementPositionY:g,elementHeight:E,elementWidth:S,isOutside:b,stop:x}}export{M as a,re as b,le as c,ce as u};
