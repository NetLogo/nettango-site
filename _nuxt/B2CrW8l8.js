import{d as x,K as M,c as _,L as C,M as A,i as r,F as k,A as L,x as g,n as R,o as l,j as b}from"#entry";const S=["src"],$=x({__name:"MagnetLines",props:{rows:{default:9},columns:{default:9},containerSize:{default:"80vmin"},lineColor:{default:"#efefef"},lineWidth:{default:"1vmin"},lineHeight:{default:"6vmin"},baseAngle:{default:-10},className:{default:""},style:{default:()=>({})},lineAsset:{default:void 0}},setup(h){const e=h,i=M("containerRef"),p=_(()=>e.rows*e.columns),d=t=>{const n=i.value;if(!n)return;n.querySelectorAll("span").forEach(s=>{const a=s.getBoundingClientRect(),y=a.x+a.width/2,m=a.y+a.height/2,c=t.x-y,f=t.y-m,v=Math.sqrt(f*f+c*c)||1,w=Math.acos(c/v)*180/Math.PI*(t.y>m?1:-1);s.style.setProperty("--rotate",`${w}deg`)})},u=t=>{d({x:t.x,y:t.y})};return C(()=>{const t=i.value;if(!t)return;window.addEventListener("pointermove",u);const n=t.querySelectorAll("span");if(n.length){const o=Math.floor(n.length/2),s=n[o]?.getBoundingClientRect()??{x:0,y:0};d({x:s.x,y:s.y})}}),A(()=>{window.removeEventListener("pointermove",u)}),(t,n)=>(l(),r("div",{ref_key:"containerRef",ref:i,class:R(`grid place-items-center ${e.className}`),style:g({gridTemplateColumns:`repeat(${e.columns}, 1fr)`,gridTemplateRows:`repeat(${e.rows}, 1fr)`,width:e.containerSize,height:e.containerSize,...e.style})},[(l(!0),r(k,null,L(p.value,o=>(l(),r("span",{key:`line-${o}`,class:"block origin-center",style:g({backgroundColor:e.lineAsset?"transparent":e.lineColor,width:e.lineWidth,height:e.lineHeight,"--rotate":`${e.baseAngle}deg`,transform:"rotate(var(--rotate))",willChange:"transform"})},[e.lineAsset?(l(),r("img",{key:0,src:e.lineAsset},null,8,S)):b("",!0)],4))),128))],6))}}),B=Object.assign($,{__name:"MagnetLines"});export{B as default};
